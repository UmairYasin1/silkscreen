@model HaroonPOSWeb.Models.StockReportModel
@{
    ViewBag.Title = "Stock Report";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="col-lg-12">
    <div class="card position-relative">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Stock Report</h6>
        </div>
        <div class="card-body">
            <div class="small mb-1">Please select month:</div>
            @Html.DropDownListFor(model => model.MonthId, ViewBag.MonthList as SelectList, "--select--")
            @Html.ValidationMessageFor(model => model.MonthId, "", new { @class = "text-danger" })
        </div>
        <div class="card-body">
            <div class="small mb-1">Please select year:</div>
            @Html.DropDownListFor(model => model.YearId, ViewBag.YearList as SelectList, "--select--")
            @Html.ValidationMessageFor(model => model.YearId, "", new { @class = "text-danger" })
        </div>
        <div class="card-body">
            <div class="small mb-1">Download report:</div>
            <div class="pull-right">
                <i id="spanStockReportDownload" class="fa fa-download"></i>
            </div>
        </div>
    </div>
</div>

@section scripts{

    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
        $("#spanStockReportDownload").click(function () {

            var stringValues = 0;
            var MonthId = $('#MonthId').val();
            var YearId = $('#YearId').val();
            if (MonthId == "" || MonthId == 0)
            {
                alert('Please select month');
            }
            else if (YearId == "" || YearId == 0)
            {
                alert('Please select year');
            }
            else
            {
                window.open('/Report/CreatePdfStockReport?stringValues=' + stringValues + '?MonthId=' + MonthId + '?YearId=' + YearId, "_blank");
            }
        });
    </script>

}